#!/usr/bin/env pnpm tsx
import t from "tap";
import * as solana from "./solana.js";
await t.test("basicClusterLookup", async (t) => {
    t.ok(solana.isKnownCluster("mainnet-beta"));
    t.ok(!solana.isKnownCluster("notacluster"));
    t.end();
});
await t.test("basicSPLTokenLookup", async (t) => {
    await t.test((t) => {
        const info = solana.lookupKnownSPLToken("devnet", "USDC");
        if (!info) {
            throw new Error("failed to lookup known SPL token");
        }
        t.matchOnly(info.address, "4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU");
        t.matchOnly(info.cluster, "devnet");
        t.end();
    });
    await t.test((t) => {
        const info = solana.lookupKnownSPLToken("alsdkjaklsdj", "asldkjasd");
        t.matchOnly(info, undefined);
        t.end();
    });
    await t.test((t) => {
        t.ok(solana.isKnownSPLToken("USDC"));
        t.ok(!solana.isKnownSPLToken("notarealtoken"));
        t.end();
    });
    t.end();
});
